import{a as z}from"./chunk-P4BJDNJN.js";import{d as b,e as C,i as E,k as D}from"./chunk-45MWQNRE.js";import{A as w,C as d,E as I,G as L,H as x,J as V,K as N,L as A,M as O,O as k,Q as R,V as T,ba as j,da as q,w as y,x as l,y as F,ya as G,z as M}from"./chunk-Z3DOVYUD.js";import{Ab as u,Lb as m,Ub as t,Vb as i,Wb as p,ac as h,dd as S,id as _,jb as n,kb as c,lc as o,vb as v,vc as f}from"./chunk-D4URMYAJ.js";var ee=()=>["/dashboard"],te=()=>["/authentication/register"];function ie(r,g){r&1&&(t(0,"div",18),o(1," Email invalide. "),i())}function oe(r,g){r&1&&(t(0,"div",18),o(1," Le mot de passe doit contenir au moins 6 caract\xE8res. "),i())}var B=(()=>{class r{constructor(a,s){this.authService=a,this.router=s}ngOnInit(){this.loginForm=new w({email:new d("",[l.required,l.email]),mot_de_passe:new d("",[l.required,l.minLength(6)])})}login(){if(this.loginForm.invalid){console.log("Formulaire invalide");return}this.authService.login(this.loginForm.value).subscribe({next:a=>{this.authService.saveToken(a.token),console.log("Connexion r\xE9ussie"),this.router.navigate(["/dashboard"])},error:a=>{console.error("Erreur de connexion:",a.error.message)}})}static{this.\u0275fac=function(s){return new(s||r)(c(D),c(b))}}static{this.\u0275cmp=v({type:r,selectors:[["app-side-login"]],decls:27,vars:8,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],["src","./assets/images/logos/logo.png","alt","logo","width","150",1,"align-middle","m-2"],[1,"or-border","m-t-30"],[1,"m-t-30",3,"ngSubmit","formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","email","formControlName","email","placeholder","Entrez votre email"],["class","text-danger",4,"ngIf"],["matInput","","type","password","formControlName","mot_de_passe","placeholder","Entrez votre mot de passe"],["mat-flat-button","","color","primary","type","submit",1,"w-100",3,"disabled"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"],[1,"text-danger"]],template:function(s,e){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"div",5)(6,"a",6),p(7,"img",7),i()(),t(8,"div",8),o(9,"Se connecter"),i(),t(10,"form",9),h("ngSubmit",function(){return e.login()}),t(11,"mat-label",10),o(12,"Email"),i(),t(13,"mat-form-field",11),p(14,"input",12),i(),u(15,ie,2,0,"div",13),t(16,"mat-label",10),o(17,"Mot de passe"),i(),t(18,"mat-form-field",11),p(19,"input",14),i(),u(20,oe,2,0,"div",13),t(21,"button",15),o(22," Se connecter "),i()(),t(23,"span",16),o(24,"Nouveau sur Mechanical ? "),t(25,"a",17),o(26," Cr\xE9er un compte "),i()()()()()()()),s&2&&(n(6),m("routerLink",f(6,ee)),n(4),m("formGroup",e.loginForm),n(5),m("ngIf",e.loginForm.controls.email.invalid&&e.loginForm.controls.email.touched),n(5),m("ngIf",e.loginForm.controls.mot_de_passe.invalid&&e.loginForm.controls.mot_de_passe.touched),n(),m("disabled",e.loginForm.invalid),n(4),m("routerLink",f(7,te)))},dependencies:[_,S,N,I,y,F,M,L,x,E,C,G,k,A,T,j,q,R],encapsulation:2})}}return r})();var re=()=>["/dashboard"],ne=()=>["/authentication/login"];function me(r,g){r&1&&(t(0,"mat-error"),o(1," Le nom est requis (minimum 3 caract\xE8res) "),i())}function ae(r,g){r&1&&(t(0,"mat-error"),o(1," Le pr\xE9nom est requis (minimum 3 caract\xE8res) "),i())}function le(r,g){r&1&&(t(0,"mat-error"),o(1," Un email valide est requis "),i())}function se(r,g){r&1&&(t(0,"mat-error"),o(1," Le mot de passe doit contenir au moins 6 caract\xE8res "),i())}var W=(()=>{class r{constructor(a,s,e){this.settings=a,this.authService=s,this.router=e,this.options=this.settings.getOptions()}ngOnInit(){this.form=new w({nom:new d("",[l.required,l.minLength(3)]),prenom:new d("",[l.required,l.minLength(3)]),email:new d("",[l.required,l.email]),mot_de_passe:new d("",[l.required,l.minLength(6)]),role:new d("",[l.required])})}get f(){return this.form.controls}submit(){if(this.form.invalid){console.log("Formulaire invalide");return}this.authService.register(this.form.value).subscribe({next:a=>{console.log("Inscription r\xE9ussie:",a),this.router.navigate(["/authentication/login"])},error:a=>{console.error("Erreur d'inscription:",a.error.message)}})}static{this.\u0275fac=function(s){return new(s||r)(c(z),c(D),c(b))}}static{this.\u0275cmp=v({type:r,selectors:[["app-side-register"]],decls:38,vars:10,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],["src","./assets/images/logos/logo.png","alt","logo","width","150",1,"align-middle","m-2"],[1,"or-border","m-t-30"],[1,"m-t-30",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","nom"],[4,"ngIf"],["matInput","","formControlName","prenom"],["matInput","","type","email","formControlName","email"],["matInput","","type","password","formControlName","mot_de_passe"],["type","hidden","formControlName","role","value","client"],["mat-flat-button","","color","primary","type","submit",1,"w-100",3,"disabled"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"]],template:function(s,e){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"div",5)(6,"a",6),p(7,"img",7),i()(),t(8,"div",8),o(9,"Inscription"),i(),t(10,"form",9),h("ngSubmit",function(){return e.submit()}),t(11,"mat-form-field",10)(12,"mat-label"),o(13,"Nom"),i(),p(14,"input",11),u(15,me,2,0,"mat-error",12),i(),t(16,"mat-form-field",10)(17,"mat-label"),o(18,"Pr\xE9nom"),i(),p(19,"input",13),u(20,ae,2,0,"mat-error",12),i(),t(21,"mat-form-field",10)(22,"mat-label"),o(23,"Email"),i(),p(24,"input",14),u(25,le,2,0,"mat-error",12),i(),t(26,"mat-form-field",10)(27,"mat-label"),o(28,"Mot de passe"),i(),p(29,"input",15),u(30,se,2,0,"mat-error",12),i(),p(31,"input",16),t(32,"button",17),o(33," S'inscrire "),i()(),t(34,"span",18),o(35," D\xE9j\xE0 un compte ? "),t(36,"a",19),o(37," Se connecter "),i()()()()()()()),s&2&&(n(6),m("routerLink",f(8,re)),n(4),m("formGroup",e.form),n(5),m("ngIf",(e.form.controls.nom==null?null:e.form.controls.nom.invalid)&&(e.form.controls.nom==null?null:e.form.controls.nom.touched)),n(5),m("ngIf",(e.form.controls.prenom==null?null:e.form.controls.prenom.invalid)&&(e.form.controls.prenom==null?null:e.form.controls.prenom.touched)),n(5),m("ngIf",(e.form.controls.email==null?null:e.form.controls.email.invalid)&&(e.form.controls.email==null?null:e.form.controls.email.touched)),n(5),m("ngIf",(e.form.controls.mot_de_passe==null?null:e.form.controls.mot_de_passe.invalid)&&(e.form.controls.mot_de_passe==null?null:e.form.controls.mot_de_passe.touched)),n(2),m("disabled",e.form.invalid),n(4),m("routerLink",f(9,ne)))},dependencies:[E,C,G,k,A,O,T,j,q,R,V,I,y,F,M,N,L,x,_,S],encapsulation:2})}}return r})();var Fe=[{path:"",children:[{path:"login",component:B},{path:"register",component:W}]}];export{Fe as AuthenticationRoutes};
